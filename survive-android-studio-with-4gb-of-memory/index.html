<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0" />
<link rel="shortcut icon" href="https://anjulalk.github.io/images/favicon.png" />
<title>Survive Android Studio with 4GB of Memory | Anjula&#39;s blog</title>
<meta name="title" content="Survive Android Studio with 4GB of Memory" />
<meta name="description" content="How to run Android Studio in memory-constrained computers." />
<meta name="keywords" content="android,linux," />


<meta property="og:title" content="Survive Android Studio with 4GB of Memory" />
<meta property="og:description" content="How to run Android Studio in memory-constrained computers." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://anjulalk.github.io/survive-android-studio-with-4gb-of-memory/" />
<meta property="og:image" content="https://anjulalk.github.io/images/share.png"/>
<meta property="article:published_time" content="2019-10-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2019-10-12T00:00:00+00:00" /><meta property="og:site_name" content="Anjula Karunarathne" />



<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://anjulalk.github.io/images/share.png"/>

<meta name="twitter:title" content="Survive Android Studio with 4GB of Memory"/>
<meta name="twitter:description" content="How to run Android Studio in memory-constrained computers."/>



<meta itemprop="name" content="Survive Android Studio with 4GB of Memory">
<meta itemprop="description" content="How to run Android Studio in memory-constrained computers.">
<meta itemprop="datePublished" content="2019-10-12T00:00:00+00:00" />
<meta itemprop="dateModified" content="2019-10-12T00:00:00+00:00" />
<meta itemprop="wordCount" content="574">
<meta itemprop="image" content="https://anjulalk.github.io/images/share.png"/>



<meta itemprop="keywords" content="android,linux," />

<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  body {
    font-family: Verdana, sans-serif;
    margin: auto;
    padding: 20px;
    max-width: 720px;
    text-align: left;
    background-color: white;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: #444;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  strong,
  b {
    color: #222;
  }

  a {
    color: #3273dc;
  }

  .title {
    text-decoration: none;
    border: 0;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    margin-right: 10px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 16px;
  }

  content {
    line-height: 1.6;
  }

  table {
    width: 100%;
  }

  img {
    max-width: 100%;
  }

  code {
    padding: 2px 5px;
    background-color: #eee;
  }

  pre code {
    border-left: 1px solid #999;
    color: #555;
    display: block;
    padding: 10px;
    white-space: pre-wrap;
  }

  blockquote {
    border-left: 1px solid #999;
    color: #555;
    padding-left: 10px;
    font-style: italic;
  }

  footer {
    padding: 25px;
    text-align: center;
  }

  .helptext {
    color: #777;
    font-size: small;
  }

  .errorlist {
    color: #eba613;
    font-size: small;
  }

</style>

</head>

<body>
  <header><a href="/" class="title">
  <h2>Anjula&#39;s blog</h2>
</a>
<nav><a href="/">Home</a>

<a href="/projects/">Projects</a>


<a href="/blog">Blog</a>

</nav>
</header>
  <main>

<h1>Survive Android Studio with 4GB of Memory</h1>
<p>
  <i>
    <time datetime='2019-10-12' pubdate>
      12 Oct, 2019
    </time>
  </i>
</p>

<content>
  <p>Even though it says in <a href="https://developer.android.com/studio">Android Studio download page</a> that the minimum required memory is 4GB, you will feel the struggle when you run it in a machine with less than 8GB of memory.</p>
<p>Fortunately, there are a few tweaks you can use to make it somewhat bearable. Some of these might be not much effective, but trust me; you need every bit of performance you can get.</p>
<h2 id="switch-to-a-lightweight-linux-distribution">Switch to a lightweight Linux distribution</h2>
<p>Using a lightweight Linux distribution will make it much easier than running Android Studio with that memory hog called Windows. I&rsquo;m sure Windows uses the extra memory to increase responsiveness by utilizing Superfetch, or whatever it is called. But (sometimes) 2 gigabytes of memory for just the operating system is unacceptable.</p>
<p>I would suggest a lightweight alternative such as <a href="https://manjaro.org/download/">Manjaro Xfce</a>, <a href="https://www.linuxmint.com/">Linux Mint Xfce</a>, <a href="https://mxlinux.org/">MX Linux</a> or <a href="https://xubuntu.org/">Xubuntu</a>. These distros uses Xfce desktop environment, if it wasn&rsquo;t obvious yet. It only use about 400 megabytes at startup. This would give us more room to operate with.</p>
<h2 id="use-a-lightweight-browser-for-reading-documentation">Use a lightweight browser for reading documentation</h2>
<p>A browser is an essential tool for developer workflow. If you use something like Google Chrome it would eat the RAM (yummy!) all by itself and make Android Studio sad.
<img src="https://i.kym-cdn.com/entries/icons/original/000/030/003/chrome.jpg" alt="Enjoy this low-res meme">
Use Mozilla Firefox with multi-process count set to 1, or better yet something like <a href="https://www.basilisk-browser.org/">Basilisk</a> which is single threaded. Basilisk uses the least amount of memory while also providing a bearable and modern browsing experience.</p>
<h2 id="disable-unwanted-plugins-from-android-studio">Disable unwanted Plugins from Android Studio</h2>
<p>Head over to <strong>File</strong>-&gt;<strong>Settings</strong>-&gt;<strong>Plugins</strong> and disable any plugins you are not going to use any time soon. The performance increase this would get is minimal. But I am sure it will help.</p>
<h2 id="reduce-allocated-java-heap-size-for-android-studio">Reduce allocated Java heap size for Android Studio</h2>
<p>You can reduce the heap size to something like 512 megabytes. This would not make much difference for small projects. However you will notice frequent freezes on Android Studio. Perhaps it&rsquo;s for garbage collection.</p>
<p>Here is how to do it:</p>
<ol>
<li>Open the <code>studio64.vmoptions</code> file by clicking on  <strong>Help</strong>-&gt;<strong>Edit Custom VM Options</strong></li>
<li>In the file, type in the following: <code>-Xmx512m</code></li>
</ol>
<p>Save the file and restart Android Studio. You will notice that the IDE is much more responsive now.</p>
<p>Please note that this will freeze Android Studio frequently and also for big projects I don&rsquo;t recommend using this method.</p>
<h2 id="reduce-allocated-java-heap-size-for-gradle">Reduce allocated Java heap size for Gradle</h2>
<p>Gradle is the build tool used by Android Studio, which is also build on Java. This means you can use the previous method for Gradle too.</p>
<p>This has some caveats, however. For small projects there wouldn&rsquo;t be any difference. But for big projects it will take forever to complete the building process. It would be constantly garbage cleaning and reading stuff into memory, over and over.</p>
<p>However if you are building any bigger projects you are better off by upgrading your RAM in the first place.</p>
<p>This is how you do it:</p>
<ol>
<li>Open the <code>gradle.properties</code> file, creating it if it doesn&rsquo;t exist:
- Windows: <code>%USERPROFILE%\.gradle\gradle.properties</code>
- Linux/Mac: <code>~/.gradle/gradle.properties</code></li>
<li>Update the <code>org.gradle.jvmargs</code> property, creating it if necessary. I set mine to this:
<code>org.gradle.jvmargs=-Xmx256m -XX:MaxPermSize=256m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8</code></li>
</ol>
<p>I haven&rsquo;t noticed any difference in build performance for my small projects with the max heap size set to 256MB. (<code>-Xmx256m</code>) Do experiment with these values because the outcome will be different for different versions and your projects. If you&rsquo;re done, restart Android Studio and make sure the gradle process is killed.</p>
<p>That&rsquo;s all. Hope that helps.</p>

</content>
<p>
  
  <a href="https://anjulalk.github.io/blog/android/">#android</a>
  
  <a href="https://anjulalk.github.io/blog/linux/">#linux</a>
  
</p>

  </main>
  <footer>
</footer>

    
</body>

</html>
