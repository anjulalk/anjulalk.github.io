<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=0" />
<link rel="shortcut icon" href="https://anjulalk.github.io/images/favicon.png" />
<title>My Google Summer of Code 2020 Project with Joplin Notebook | Anjula&#39;s blog</title>
<meta name="title" content="My Google Summer of Code 2020 Project with Joplin Notebook" />
<meta name="description" content="Custom keyboard shortcuts for Joplin desktop application." />
<meta name="keywords" content="javascript,projects," />


<meta property="og:title" content="My Google Summer of Code 2020 Project with Joplin Notebook" />
<meta property="og:description" content="Custom keyboard shortcuts for Joplin desktop application." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://anjulalk.github.io/my-google-summer-of-code-2020-project-with-joplin-notebook/" />
<meta property="og:image" content="https://anjulalk.github.io/images/share.png"/>
<meta property="article:published_time" content="2020-08-31T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-08-31T00:00:00+00:00" /><meta property="og:site_name" content="Anjula Karunarathne" />



<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://anjulalk.github.io/images/share.png"/>

<meta name="twitter:title" content="My Google Summer of Code 2020 Project with Joplin Notebook"/>
<meta name="twitter:description" content="Custom keyboard shortcuts for Joplin desktop application."/>



<meta itemprop="name" content="My Google Summer of Code 2020 Project with Joplin Notebook">
<meta itemprop="description" content="Custom keyboard shortcuts for Joplin desktop application.">
<meta itemprop="datePublished" content="2020-08-31T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-08-31T00:00:00+00:00" />
<meta itemprop="wordCount" content="366">
<meta itemprop="image" content="https://anjulalk.github.io/images/share.png"/>



<meta itemprop="keywords" content="javascript,projects," />

<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  body {
    font-family: Verdana, sans-serif;
    margin: auto;
    padding: 20px;
    max-width: 720px;
    text-align: left;
    background-color: white;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: #444;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  strong,
  b {
    color: #222;
  }

  a {
    color: #3273dc;
  }

  .title {
    text-decoration: none;
    border: 0;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    margin-right: 10px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 16px;
  }

  content {
    line-height: 1.6;
  }

  table {
    width: 100%;
  }

  img {
    max-width: 100%;
  }

  code {
    padding: 2px 5px;
    background-color: #eee;
  }

  pre code {
    border-left: 1px solid #999;
    color: #555;
    display: block;
    padding: 10px;
    white-space: pre-wrap;
  }

  blockquote {
    border-left: 1px solid #999;
    color: #555;
    padding-left: 10px;
    font-style: italic;
  }

  footer {
    padding: 25px;
    text-align: center;
  }

  .helptext {
    color: #777;
    font-size: small;
  }

  .errorlist {
    color: #eba613;
    font-size: small;
  }

</style>

</head>

<body>
  <header><a href="/" class="title">
  <h2>Anjula&#39;s blog</h2>
</a>
<nav><a href="/">Home</a>

<a href="/projects/">Projects</a>


<a href="/blog">Blog</a>

</nav>
</header>
  <main>

<h1>My Google Summer of Code 2020 Project with Joplin Notebook</h1>
<p>
  <i>
    <time datetime='2020-08-31' pubdate>
      31 Aug, 2020
    </time>
  </i>
</p>

<content>
  <p>Joplin desktop application supports keyboard shortcuts to a certain degree. However, there wasn&rsquo;t an option for users to configure keyboard shortcuts according to their preferences. My project was to implement a keyboard shortcut editor along with the necessary integration.</p>
<p>The project consisted of two parts:</p>
<ol>
<li>Back-end service for handling all keymapping-related functionality</li>
<li>Keyboard shortcut editor with the necessary functionality to alter the keymap</li>
</ol>
<h2 id="progress">Progress</h2>
<p>The project was implemented in two pull requests.</p>
<ol>
<li><a href="https://github.com/laurent22/joplin/pull/3252">Desktop: KeymapService: Initial implementation</a></li>
<li><a href="https://github.com/laurent22/joplin/pull/3525">Desktop: Keyboard shortcut editor</a></li>
</ol>
<h4 id="pr-1----desktop-keymapservice-initial-implementation">PR 1 -  Desktop: KeymapService: Initial implementation</h4>
<p>KeymapService builds an in-memory keymap based on the default keymap configuration. Default keymap configuration may vary from platform to platform. Essentially, the in-memory keymap binds a keyboard shortcut for some command of Joplin. Clients of KeymapService may obtain the keyboard shortcuts for some commands, and/or alter the keymap via the provided methods.</p>
<p>Additionally, this PR also allows altering the keymap via a keymap file, which is located in the profile directory. Contents of this keymap file will take higher priority than the default keymap configuration, and will replace the default keyboard shortcuts.</p>
<p>It is guaranteed that the keymap always stays pristine with proper validation.</p>
<h4 id="pr-2---desktop-keyboard-shortcut-editor">PR 2 - Desktop: Keyboard shortcut editor</h4>
<p>Depending on the interfaces of KeymapService, Keyboard shortcut editor allows the user to,</p>
<ul>
<li>View all the available commands and their respective keyboard shortcuts</li>
<li>Change, or disable a keyboard shortcut for some command</li>
<li>Restore a keyboard shortcut to its default value</li>
<li>Export all changes to a keymap file (in JSON format)</li>
<li>Import changes from an exported keymap file</li>
<li>Perform a simple search to locate some shortcut</li>
</ul>
<p>Changes performed to the keymap will be reflected immediately in the keymap file located in the profile directory. The editor will also perform continuous validation to ensure that the keymap will not enter a dirty-state.</p>
<p>This PR also includes a lot of improvements to KeymapService to support these additional functions.</p>
<h2 id="documentation">Documentation</h2>
<h4 id="weekly-reports">Weekly Reports</h4>
<ul>
<li><a href="https://discourse.joplinapp.org/t/week-1-custom-keyboard-shortcuts/8693">Week 1</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-2-custom-keyboard-shortcuts/8863">Week 2</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-3-custom-keyboard-shortcuts/9030">Week 3</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-4-custom-keyboard-shortcuts/9241">Week 4</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-5-custom-keyboard-shortcuts/9381">Week 5</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-6-custom-keyboard-shortcuts/9716">Week 6</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-7-custom-keyboard-shortcuts/10125">Week 7</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-8-custom-keyboard-shortcuts/10259">Week 8</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-9-custom-keyboard-shortcuts/10370">Week 9</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-10-custom-keyboard-shortcuts/10521">Week 10</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-11-custom-keyboard-shortcuts/10653">Week 11</a></li>
<li><a href="https://discourse.joplinapp.org/t/week-12-custom-keyboard-shortcuts/10759">Week 12</a></li>
</ul>
<h4 id="other-documentation">Other documentation</h4>
<ul>
<li>Documentation for KeymapService can be found <a href="https://discourse.joplinapp.org/t/keymapservice-specification/10726">here.</a></li>
<li>UI sketches for the Keyboard shortcut editor can be found <a href="https://discourse.joplinapp.org/t/keyboard-shortcut-editor-user-interface/9328">here.</a></li>
<li>All discussions can be found <a href="https://discourse.joplinapp.org/c/gsoc-projects/gsoc-projects-shortcut/17">here.</a></li>
</ul>

</content>
<p>
  
  <a href="https://anjulalk.github.io/blog/javascript/">#javascript</a>
  
  <a href="https://anjulalk.github.io/blog/projects/">#projects</a>
  
</p>

  </main>
  <footer>
</footer>

    
</body>

</html>
